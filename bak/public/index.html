<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' content='text/html; charset=UTF-8' />
  <meta name='keywords' content='Bit-Shadow Machine' />
  <meta name='description' content='Create particle systems with JavaScript and CSS box shadows.' />
  <meta name='viewport' content='user-scalable=no, width=device-width, initial-scale=1.0; maximum-scale=1.0;' />
  <meta name='apple-mobile-web-app-capable' content='yes' />
  <meta property="og:title" content="Bit-Shadow Machine"/>
  <meta property="og:url" content="http://www.bitshadowmachine.com"/>
  <meta property="og:site_name" content="Bit-Shadow Machine"/>
  <title>Bit-Shadow Machine | Particle systems w JavaScript + CSS box shadows</title>
  <link rel='stylesheet' href='css/bitshadowmachine.min.css' type='text/css' charset='utf-8' />
  <link rel='stylesheet' href='css/main.css' type='text/css' type='text/css' charset='utf-8' />
  <script src='scripts/bitshadowmachine.min.js' type='text/javascript' charset='utf-8'></script>
  <script src='scripts/anim.js' type='text/javascript' charset='utf-8'></script>
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-9773576-13']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>
<body>
  <div id='worldA' class='world'></div>
  <header>
    <table>
      <tbody>
          <tr>
            <td class='cell-logo'><a href='http://www.florajs.com/blog/?p=25' class=''><img src='img/logo-16.png' alt='Bit-Shadow Machine'></a></td>
            <td class='cell-twitter'>
              <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.bitshadowmachine.com" data-via="vinceallenvince" data-hashtags="bitshadowmachine, javascript">Tweet</a>
              <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            </td>
          </tr>
      </tbody>
    </table>
  </header>
  <footer>
    <a href='http://www.florajs.com/blog/?p=25' class='logo-footer'><img src='img/logo-8.png' alt='Bit-Shadow Machine'></a> | <a href='http://www.florajs.com/blog/?p=25'>about</a> |
    <a href='https://github.com/foldi/Bit-Shadow-Machine'>github</a> |
    <a href='http://www.vinceallen.com'>vince allen</a>
  </footer>
  <script type="text/javascript">

    var totalElements = 250,
        bsm = Anim.BitShadowMachine;

    var system = new bsm.System.create(function() {
      for (var i = 0; i < totalElements; i++) {

        bsm.System.add('Mover', {
          location: function() {
            return new bsm.Vector(bsm.Utils.getRandomNumber(0, this.world.width),
                bsm.Utils.getRandomNumber(0, this.world.height));
          },
          mass: bsm.Utils.map(i, 0, totalElements, 10, 100),
          hue: bsm.Utils.map(i, 0, totalElements, 0, 180),
          saturation: 1,
          lightness: 0.5,
          opacity: 1,
          seekTarget: bsm.System.mouse
        });
      }
    },
    {
      el: document.getElementById('worldA'),
      resolution: 4,
      colorMode: 'hsla'
    });

    bsm.Utils.addEvent(document, 'mouseup', function() {
      for (var record, i = 0, max = bsm.System._records.list.length; i < max; i++) {
        record = bsm.System._records.list[i];
        if (record.world) {
          record.location.x = bsm.Utils.getRandomNumber(0, record.world.width);
          record.location.y = bsm.Utils.getRandomNumber(0, record.world.height);
        }
      }
    });

    bsm.Utils.addEvent(document, 'touchstart', function(e) {
      e.preventDefault();
      var touch = e.changedTouches[0];
      bsm.System.mouse.location.x = touch.pageX / bsm.System._records.list[0].resolution;
      bsm.System.mouse.location.y = touch.pageY / bsm.System._records.list[0].resolution;
      for (var record, i = 0, max = Anim.BitShadowMachine.System._records.list.length; i < max; i++) {
        record = Anim.BitShadowMachine.System._records.list[i];
        if (record.world) {
          record.location.x = bsm.Utils.getRandomNumber(0, record.world.width);
          record.location.y = bsm.Utils.getRandomNumber(0, record.world.height);
        }
      }
    });
  </script>
</body>
</html>